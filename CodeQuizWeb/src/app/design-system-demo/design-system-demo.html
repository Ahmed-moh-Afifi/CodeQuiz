<div class="demo-page cq-theme-transition">
  <!-- Theme Toggle Header -->
  <div class="demo-header">
    <a href="/" class="back-link">
      <div
        class="cq-mask-icon"
        style="
          --mask-url: url('assets/icons/arrow_back_ios_new_rounded.svg');
          width: 16px;
          height: 16px;
          margin-right: 8px;
        "
      ></div>
      Back to Homepage
    </a>
    <button class="cq-btn-secondary" (click)="toggleTheme()">
      {{ currentTheme() === 'dark' ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode' }}
    </button>
  </div>

  <h1 class="cq-page-title cq-mb-sm">CodeQuiz Design System</h1>
  <p class="cq-body-text cq-mb-xl">
    A comprehensive design system ported from the MAUI desktop app. Toggle between dark and light
    modes using the button above. Click the
    <span class="inline-code-icon">&lt;/&gt;</span> icon on any section to see usage code.
  </p>

  <!-- ========== QUICK GUIDE ========== -->
  <section class="demo-section demo-guide-section">
    <h2 class="demo-section-title">Quick Start Guide</h2>
    <div class="demo-guide-grid">
      <div class="cq-card">
        <h4 class="cq-item-title cq-mb-sm">1. Import the design system</h4>
        <pre class="demo-code-block"><code>// In your styles.scss
&#64;use 'styles/design-system';</code></pre>
      </div>
      <div class="cq-card">
        <h4 class="cq-item-title cq-mb-sm">2. Theme support</h4>
        <pre class="demo-code-block"><code>// Toggle via data-theme attribute
document.documentElement
  .setAttribute('data-theme', 'light');
// Default is dark theme</code></pre>
      </div>
      <div class="cq-card">
        <h4 class="cq-item-title cq-mb-sm">3. Customize variables</h4>
        <pre class="demo-code-block"><code>// Override any CSS variable
:root &#123;
  --cq-primary: #your-color;
  --cq-font-size-body: 16px;
  --cq-background-dark: #1a1a2e;
&#125;</code></pre>
      </div>
      <div class="cq-card">
        <h4 class="cq-item-title cq-mb-sm">4. Use classes in HTML</h4>
        <pre class="demo-code-block"><code>&lt;button class="cq-btn-primary"&gt;
  Click Me
&lt;/button&gt;
&lt;div class="cq-card"&gt;
  &lt;p class="cq-body-text"&gt;Hi&lt;/p&gt;
&lt;/div&gt;</code></pre>
      </div>
    </div>
  </section>

  <!-- ========== COLORS ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <div style="display: flex; align-items: center; gap: 16px; flex: 1">
        <h2 class="demo-section-title" style="margin-bottom: 0">Colors</h2>
        <span class="cq-caption-text">Click any swatch to edit</span>
      </div>
      <button class="cq-btn-ghost demo-reset-btn" (click)="resetAllColors()">Reset</button>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('colors')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'colors') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Colors ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['colors']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="demo-label">Background &amp; Surface</div>
    <div class="demo-row cq-mb-lg">
      <div class="color-swatch-wrapper">
        <label class="color-swatch interactive">
          <input
            type="color"
            [value]="backgroundColor"
            (input)="updateBackground($event)"
            class="color-input-hidden"
          />
          <div class="color-box" style="background-color: var(--cq-background-dark)"></div>
          <div class="color-info">
            <span class="color-name">Background</span>
            <span class="color-value">--cq-background-dark</span>
            <span class="color-hex">{{ backgroundColor }}</span>
          </div>
        </label>
      </div>
      <div class="color-swatch-wrapper">
        <label class="color-swatch interactive">
          <input
            type="color"
            [value]="surfaceColor"
            (input)="updateSurface($event)"
            class="color-input-hidden"
          />
          <div class="color-box" style="background-color: var(--cq-surface-dark)"></div>
          <div class="color-info">
            <span class="color-name">Surface / Cards</span>
            <span class="color-value">--cq-surface-dark</span>
            <span class="color-hex">{{ surfaceColor }}</span>
          </div>
        </label>
      </div>
    </div>

    @for (group of colorGroups; track group.name) {
      <div class="demo-label">{{ group.name }}</div>
      <div class="demo-row cq-mb-lg">
        @for (color of group.colors; track color.name) {
          <div class="color-swatch-wrapper">
            <label class="color-swatch interactive">
              <input
                type="color"
                [value]="color.value"
                (input)="updateColor(color.variable, $event)"
                class="color-input-hidden"
              />
              <div class="color-box" [style.background-color]="'var(' + color.variable + ')'"></div>
              <div class="color-info">
                <span class="color-name">{{ color.name }}</span>
                <span class="color-value">{{ color.variable }}</span>
                <span class="color-hex">{{ color.value }}</span>
              </div>
            </label>
          </div>
        }
      </div>
    }
  </section>

  <!-- ========== TYPOGRAPHY ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Typography</h2>
      <button class="cq-btn-ghost demo-reset-btn" (click)="resetFontSizes()">Reset Sizes</button>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('typography')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'typography') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Typography ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['typography']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="cq-card">
      <h1 class="cq-page-title cq-mb-md">Page Title</h1>
      <h2 class="cq-section-header cq-mb-md">Section Header</h2>
      <h3 class="cq-card-title cq-mb-md">Card Title</h3>
      <h4 class="cq-item-title cq-mb-md">Item Title</h4>
      <p class="cq-body-text cq-mb-md">
        Body Text - This is the standard paragraph text used for content throughout the application.
      </p>
      <p class="cq-caption-text cq-mb-md">Caption Text - Smaller helper text in muted color</p>
      <p class="cq-code-label cq-mb-md">const codeLabel = "Monospace code styling";</p>
      <p class="cq-success-text">Success Text</p>
      <p class="cq-score-text">Score: 85/100</p>
    </div>

    <div class="demo-label cq-mt-lg">Font Size Controls</div>
    <div class="demo-font-size-grid">
      @for (fs of fontSizes; track fs.variable) {
        <div class="demo-font-size-control">
          <div class="demo-font-size-label">
            <span class="cq-body-text">{{ fs.name }}</span>
            <span class="demo-font-size-value">{{ fs.value }}px</span>
          </div>
          <input
            type="range"
            class="demo-range-slider"
            [min]="fs.min"
            [max]="fs.max"
            [value]="fs.value"
            (input)="updateFontSize(fs, $event)"
          />
          <span class="color-value">{{ fs.variable }}</span>
        </div>
      }
    </div>
  </section>

  <!-- ========== BUTTONS ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Buttons</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('buttons')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'buttons') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Buttons ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['buttons']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="demo-label">Standard Buttons</div>
    <div class="demo-row cq-mb-lg">
      <button class="cq-btn-primary">Primary Button</button>
      <button class="cq-btn-secondary">Secondary Button</button>
      <button class="cq-btn-outlined">Outlined Button</button>
      <button class="cq-btn-danger">Danger Button</button>
      <button class="cq-btn-ghost">Ghost Button</button>
    </div>

    <div class="demo-label">Additional Button Variants</div>
    <div class="demo-row cq-mb-lg">
      <button class="cq-btn-success">Success Button</button>
      <button class="cq-btn-danger-filled">Danger Filled</button>
    </div>

    <div class="demo-label">Disabled State</div>
    <div class="demo-row cq-mb-lg">
      <button class="cq-btn-primary" disabled>Disabled Primary</button>
      <button class="cq-btn-secondary" disabled>Disabled Secondary</button>
    </div>

    <div class="demo-label">Loading Buttons</div>
    <div class="demo-row cq-mb-lg">
      <!-- Loading with text -->
      <button
        class="cq-btn-primary"
        [class.cq-btn-loading]="isLoading1"
        (click)="simulateLoading1()"
      >
        @if (isLoading1) {
          <span class="cq-btn-spinner"></span>
          <span>Saving...</span>
        } @else {
          <span>Save Changes</span>
        }
      </button>

      <!-- Loading spinner only (replaces text) -->
      <button
        class="cq-btn-secondary"
        [class.cq-btn-loading]="isLoading2"
        [class.cq-btn-loading-replace]="isLoading2"
        (click)="simulateLoading2()"
      >
        <span class="cq-btn-spinner cq-btn-spinner-center"></span>
        <span class="cq-btn-text">Submit</span>
      </button>

      <!-- Static loading example -->
      <button class="cq-btn-outlined cq-btn-loading">
        <span class="cq-btn-spinner"></span>
        <span>Processing...</span>
      </button>
    </div>

    <div class="demo-label">Icon Buttons</div>
    <div class="demo-row">
      <button class="cq-btn-icon">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/arrow_forward_ios_rounded.svg');
            background-color: var(--cq-text-secondary);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
      <button class="cq-btn-icon-primary">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/save.svg');
            background-color: var(--cq-text-on-primary);
            width: 22px;
            height: 22px;
          "
        ></div>
      </button>
      <button class="cq-btn-icon-outlined">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/pencil.svg');
            background-color: var(--cq-primary);
            width: 20px;
            height: 20px;
          "
        ></div>
      </button>
      <button class="cq-btn-icon-danger">
        <div
          class="cq-mask-icon cq-mask-icon-error"
          style="--mask-url: url('assets/icons/trash.svg'); width: 20px; height: 20px"
        ></div>
      </button>
    </div>
  </section>

  <!-- ========== CARDS ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Cards</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('cards')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'cards') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Cards ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['cards']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="demo-grid">
      <div class="cq-card">
        <h3 class="cq-item-title cq-mb-sm">Standard Card</h3>
        <p class="cq-body-text">Basic card with surface background and default border.</p>
      </div>

      <div class="cq-card-elevated">
        <h3 class="cq-item-title cq-mb-sm">Elevated Card</h3>
        <p class="cq-body-text">Card with shadow for emphasis.</p>
      </div>

      <div class="cq-card">
        <h3 class="cq-item-title cq-mb-md">Card with Inner Card</h3>
        <div class="cq-card-inner">
          <p class="cq-caption-text">Nested inner card component</p>
        </div>
      </div>

      <div class="cq-card-highlighted">
        <h3 class="cq-item-title cq-mb-sm">Highlighted Card</h3>
        <p class="cq-body-text">Card with primary border color.</p>
      </div>
    </div>
  </section>

  <!-- ========== INPUTS ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Form Inputs</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('inputs')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'inputs') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Form Inputs ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['inputs']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="demo-grid">
      <div class="cq-form-group">
        <label class="cq-label">Text Input</label>
        <div class="cq-input-wrapper">
          <input type="text" class="cq-input" placeholder="Enter text..." />
        </div>
      </div>

      <div class="cq-form-group">
        <label class="cq-label">Code Input</label>
        <div class="cq-input-wrapper">
          <input type="text" class="cq-input-code" placeholder="console.log('hello')" />
        </div>
      </div>

      <div class="cq-form-group">
        <label class="cq-label">Select Dropdown (Fixed Styling)</label>
        <div class="cq-select-wrapper">
          <select class="cq-select">
            <option>Option 1 - Dark Background</option>
            <option>Option 2 - Visible Text</option>
            <option>Option 3 - Proper Contrast</option>
          </select>
        </div>
      </div>

      <div class="cq-form-group">
        <label class="cq-label">Textarea</label>
        <div class="cq-textarea-wrapper">
          <textarea class="cq-textarea" placeholder="Enter description..." rows="3"></textarea>
        </div>
      </div>
    </div>

    <div class="demo-label cq-mt-lg">Toggle Controls (Fixed Checkbox Centering)</div>
    <div class="demo-row">
      <div class="cq-flex cq-items-center cq-gap-sm">
        <input type="checkbox" class="cq-switch" checked />
        <span class="cq-body-text">Switch Toggle</span>
      </div>
      <div class="cq-flex cq-items-center cq-gap-sm">
        <input type="checkbox" class="cq-checkbox" checked />
        <span class="cq-body-text">Checkbox (Centered ‚úì)</span>
      </div>
      <div class="cq-flex cq-items-center cq-gap-sm">
        <input type="checkbox" class="cq-checkbox" />
        <span class="cq-body-text">Unchecked</span>
      </div>
    </div>
  </section>

  <!-- ========== BADGES ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Badges</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('badges')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'badges') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Badges ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['badges']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="demo-row">
      <span class="cq-badge-status">Status</span>
      <span class="cq-badge-live">Live</span>
      <span class="cq-badge-success">Success</span>
      <span class="cq-badge-warning">Warning</span>
      <span class="cq-badge-error">Error</span>
      <span class="cq-badge-info">Info</span>
      <button class="cq-badge-action">Action Badge</button>
    </div>

    <div class="demo-label cq-mt-lg">Small Badges</div>
    <div class="demo-row">
      <span class="cq-badge-success cq-badge-sm">v1.2.3</span>
      <span class="cq-badge-status cq-badge-sm">Draft</span>
    </div>

    <div class="demo-label cq-mt-lg">Status Dots</div>
    <div class="demo-row">
      <div class="cq-flex cq-items-center cq-gap-sm">
        <span class="cq-badge-dot cq-badge-dot-success"></span>
        <span class="cq-body-text">Online</span>
      </div>
      <div class="cq-flex cq-items-center cq-gap-sm">
        <span class="cq-badge-dot cq-badge-dot-error"></span>
        <span class="cq-body-text">Offline</span>
      </div>
      <div class="cq-flex cq-items-center cq-gap-sm">
        <span class="cq-badge-dot cq-badge-dot-live"></span>
        <span class="cq-body-text">Syncing</span>
      </div>
    </div>
  </section>

  <!-- ========== TABLE ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Table</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('table')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'table') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Table ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['table']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="cq-table-container">
      <table class="cq-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Status</th>
            <th>Score</th>
          </tr>
        </thead>
        <tbody>
          @for (row of tableData; track row.id) {
            <tr>
              <td class="cq-table-cell-muted">{{ row.id }}</td>
              <td>{{ row.name }}</td>
              <td>
                <span
                  [class]="
                    row.status === 'Active'
                      ? 'cq-badge-live cq-badge-sm'
                      : row.status === 'Completed'
                        ? 'cq-badge-success cq-badge-sm'
                        : 'cq-badge-status cq-badge-sm'
                  "
                >
                  {{ row.status }}
                </span>
              </td>
              <td
                [class]="
                  row.score >= 90
                    ? 'cq-table-cell-success'
                    : row.score >= 70
                      ? 'cq-table-cell-warning'
                      : ''
                "
              >
                {{ row.score }}%
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </section>

  <!-- ========== DIALOGS ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Dialogs</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('dialogs')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'dialogs') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Dialogs ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['dialogs']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="demo-row">
      <button class="cq-btn-primary" (click)="openQuestionDialog()">Question Dialog</button>
      <button class="cq-btn-danger" (click)="openConfirmDialog()">Danger Dialog</button>
      <button class="cq-btn-success" (click)="openSuccessDialog()">Success Dialog</button>
      <button class="cq-btn-warning" (click)="openWarningDialog()">Warning Dialog</button>
      <button class="cq-btn-secondary" (click)="openInfoDialog()">Info Dialog</button>
      <button class="cq-btn-outlined" (click)="openFormDialog()">Form Dialog</button>
    </div>

    <!-- Danger Dialog (formerly Confirm) -->
    @if (showConfirmDialog) {
      <div class="cq-dialog-overlay" (click)="closeConfirmDialog()">
        <div class="cq-dialog cq-dialog-sm" (click)="$event.stopPropagation()">
          <div class="cq-confirm-dialog">
            <div class="cq-confirm-dialog-content">
              <div class="cq-dialog-icon cq-dialog-icon-danger">
                <div
                  class="cq-mask-icon cq-mask-icon-error"
                  style="--mask-url: url('assets/icons/question.svg')"
                ></div>
              </div>
              <h3 class="cq-alert-dialog-title">Delete Item?</h3>
              <p class="cq-alert-dialog-message">
                Are you sure you want to delete this item? This action cannot be undone.
              </p>
              <div class="cq-alert-dialog-actions">
                <button class="cq-btn-secondary" (click)="closeConfirmDialog()">Cancel</button>
                <button class="cq-btn-danger-filled" (click)="closeConfirmDialog()">Delete</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Question Dialog (New) -->
    @if (showQuestionDialog) {
      <div class="cq-dialog-overlay" (click)="closeQuestionDialog()">
        <div class="cq-dialog cq-dialog-sm" (click)="$event.stopPropagation()">
          <div class="cq-confirm-dialog">
            <div class="cq-confirm-dialog-content">
              <div class="cq-dialog-icon cq-dialog-icon-question">
                <div
                  class="cq-mask-icon cq-mask-icon-primary"
                  style="--mask-url: url('assets/icons/question.svg')"
                ></div>
              </div>
              <h3 class="cq-alert-dialog-title">Confirm Action</h3>
              <p class="cq-alert-dialog-message">Do you want to proceed with this operation?</p>
              <div class="cq-alert-dialog-actions">
                <button class="cq-btn-secondary" (click)="closeQuestionDialog()">No</button>
                <button class="cq-btn-primary" (click)="closeQuestionDialog()">Yes, Proceed</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Success Dialog -->
    @if (showSuccessDialog) {
      <div class="cq-dialog-overlay" (click)="closeSuccessDialog()">
        <div class="cq-dialog cq-dialog-sm" (click)="$event.stopPropagation()">
          <div class="cq-alert-dialog">
            <div class="cq-dialog-icon cq-dialog-icon-success">
              <div
                class="cq-mask-icon cq-mask-icon-success"
                style="--mask-url: url('assets/icons/success.svg')"
              ></div>
            </div>
            <h3 class="cq-alert-dialog-title">Success!</h3>
            <p class="cq-alert-dialog-message">Your changes have been saved successfully.</p>
            <div class="cq-alert-dialog-actions">
              <button class="cq-btn-success" (click)="closeSuccessDialog()">Continue</button>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Warning Dialog -->
    @if (showWarningDialog) {
      <div class="cq-dialog-overlay" (click)="closeWarningDialog()">
        <div class="cq-dialog cq-dialog-sm" (click)="$event.stopPropagation()">
          <div class="cq-alert-dialog">
            <div class="cq-dialog-icon cq-dialog-icon-warning">
              <div
                class="cq-mask-icon cq-mask-icon-warning"
                style="--mask-url: url('assets/icons/warning.svg')"
              ></div>
            </div>
            <h3 class="cq-alert-dialog-title">Warning</h3>
            <p class="cq-alert-dialog-message">
              This action may have unintended consequences. Please review before proceeding.
            </p>
            <div class="cq-alert-dialog-actions">
              <button class="cq-btn-secondary" (click)="closeWarningDialog()">Cancel</button>
              <button class="cq-btn-warning" (click)="closeWarningDialog()">Proceed Anyway</button>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Info Dialog -->
    @if (showInfoDialog) {
      <div class="cq-dialog-overlay" (click)="closeInfoDialog()">
        <div class="cq-dialog cq-dialog-sm" (click)="$event.stopPropagation()">
          <div class="cq-alert-dialog">
            <div class="cq-dialog-icon cq-dialog-icon-info">
              <div
                class="cq-mask-icon cq-mask-icon-info"
                style="--mask-url: url('assets/icons/lightbulb.svg')"
              ></div>
            </div>
            <h3 class="cq-alert-dialog-title">Did You Know?</h3>
            <p class="cq-alert-dialog-message">
              You can use keyboard shortcuts to navigate quickly. Press Ctrl+S to save anytime.
            </p>
            <div class="cq-alert-dialog-actions">
              <button class="cq-btn-primary" (click)="closeInfoDialog()">Got it!</button>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Form Dialog -->
    @if (showFormDialog) {
      <div class="cq-dialog-overlay" (click)="closeFormDialog()">
        <div class="cq-dialog" (click)="$event.stopPropagation()">
          <div class="cq-dialog-header">
            <h3 class="cq-dialog-title">Create New Quiz</h3>
            <button class="cq-dialog-close" (click)="closeFormDialog()">
              <div
                class="cq-mask-icon"
                style="
                  --mask-url: url('assets/icons/close.svg');
                  background-color: var(--cq-text-secondary);
                  width: 18px;
                  height: 18px;
                "
              ></div>
            </button>
          </div>
          <div class="cq-dialog-content">
            <div class="cq-form-group">
              <label class="cq-label">Quiz Title</label>
              <div class="cq-input-wrapper">
                <input type="text" class="cq-input" placeholder="Enter quiz title..." />
              </div>
            </div>
            <div class="cq-form-group">
              <label class="cq-label">Description</label>
              <div class="cq-textarea-wrapper">
                <textarea
                  class="cq-textarea"
                  placeholder="Enter description..."
                  rows="3"
                ></textarea>
              </div>
            </div>
            <div class="cq-form-group">
              <label class="cq-label">Category</label>
              <div class="cq-select-wrapper">
                <select class="cq-select">
                  <option>JavaScript</option>
                  <option>Python</option>
                  <option>C++</option>
                </select>
              </div>
            </div>
          </div>
          <div class="cq-dialog-footer">
            <button class="cq-btn-secondary" (click)="closeFormDialog()">Cancel</button>
            <button class="cq-btn-primary" (click)="closeFormDialog()">Create Quiz</button>
          </div>
        </div>
      </div>
    }
  </section>

  <!-- ========== PAGE LAYOUT ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Page Layout (MAUI-style)</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('layout')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'layout') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Page Layout ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['layout']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="cq-card" style="padding: 0; overflow: hidden">
      <!-- Page Header Demo -->
      <div class="cq-page-header">
        <button class="cq-page-header-back">
          <img src="assets/icons/arrow_back_ios_new_rounded.svg" alt="Back" />
        </button>
        <div class="cq-page-header-content">
          <h1 class="cq-page-header-title">View Quiz Submissions</h1>
          <p class="cq-page-header-subtitle">View and grade participant submissions</p>
        </div>
        <div class="cq-page-header-actions">
          <button class="cq-btn-icon">
            <img src="assets/icons/refresh.svg" alt="Refresh" />
          </button>
          <button class="cq-btn-icon">
            <img src="assets/icons/download.svg" alt="Download" />
          </button>
          <button class="cq-btn-primary">
            <img
              src="assets/icons/save.svg"
              alt="Save"
              class="cq-icon-light"
              style="width: 16px; height: 16px"
            />
            Save Report
          </button>
        </div>
      </div>

      <!-- Content Area Demo -->
      <div style="padding: 24px; display: grid; grid-template-columns: 280px 1fr; gap: 24px">
        <!-- Sidebar Demo -->
        <div class="cq-sidebar-card">
          <div class="cq-sidebar-header">
            <img src="assets/icons/stats.svg" alt="Stats" class="cq-sidebar-header-icon" />
            <h3 class="cq-sidebar-header-title">Statistics</h3>
          </div>
          <div class="cq-sidebar-content">
            <div class="cq-stat-grid">
              <div class="cq-stat-card">
                <div class="cq-stat-value">24</div>
                <div class="cq-stat-label">Total</div>
              </div>
              <div class="cq-stat-card">
                <div class="cq-stat-value cq-stat-value-success">18</div>
                <div class="cq-stat-label">Submitted</div>
              </div>
              <div class="cq-stat-card">
                <div class="cq-stat-value cq-stat-value-warning">72.5</div>
                <div class="cq-stat-label">Average</div>
              </div>
              <div class="cq-stat-card">
                <div class="cq-stat-value cq-stat-value-success">85%</div>
                <div class="cq-stat-label">Pass Rate</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content Demo -->
        <div class="cq-content-card">
          <div class="cq-table-container" style="border: 0; border-radius: 0">
            <table class="cq-table">
              <thead>
                <tr>
                  <th>Participant</th>
                  <th>Status</th>
                  <th>Score</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>John Smith</td>
                  <td><span class="cq-badge-success cq-badge-sm">Graded</span></td>
                  <td class="cq-table-cell-success">92%</td>
                  <td><button class="cq-badge-action">Review</button></td>
                </tr>
                <tr>
                  <td>Jane Doe</td>
                  <td><span class="cq-badge-status cq-badge-sm">Pending</span></td>
                  <td>--</td>
                  <td><button class="cq-badge-action">Grade</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== MESSAGES ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Messages</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('messages')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'messages') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Messages ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['messages']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="cq-message cq-message-info">
      <div class="cq-message-icon">
        <div
          class="cq-mask-icon cq-mask-icon-info"
          style="--mask-url: url('assets/icons/lightbulb.svg')"
        ></div>
      </div>
      <div class="cq-message-content">
        <h4 class="cq-message-title">Info Message</h4>
        <p class="cq-message-text">
          This is an informational message card using the info color scheme.
        </p>
      </div>
    </div>

    <div class="cq-message cq-message-warning">
      <div class="cq-message-icon">
        <div
          class="cq-mask-icon cq-mask-icon-warning"
          style="--mask-url: url('assets/icons/warning.svg')"
        ></div>
      </div>
      <div class="cq-message-content">
        <h4 class="cq-message-title">Warning Message</h4>
        <p class="cq-message-text">
          This is a warning message card. Pay attention to the yellow accents.
        </p>
      </div>
    </div>

    <div class="cq-message cq-message-error">
      <div class="cq-message-icon">
        <div
          class="cq-mask-icon cq-mask-icon-error"
          style="--mask-url: url('assets/icons/error.svg')"
        ></div>
      </div>
      <div class="cq-message-content">
        <h4 class="cq-message-title">Error Message</h4>
        <p class="cq-message-text">
          This is an error message card indicating something went wrong.
        </p>
      </div>
    </div>
  </section>

  <!-- ========== UTILITIES & ICONS ========== -->
  <section class="demo-section demo-section-with-code">
    <div class="demo-section-header-row">
      <h2 class="demo-section-title" style="margin-bottom: 0">Utilities</h2>
      <button class="demo-code-btn" (click)="toggleCodeTooltip('utilities')" title="View code">
        <div
          class="cq-mask-icon"
          style="
            --mask-url: url('assets/icons/code.svg');
            background-color: var(--cq-text-muted);
            width: 18px;
            height: 18px;
          "
        ></div>
      </button>
    </div>

    @if (activeCodeTooltip === 'utilities') {
      <div class="demo-code-popover">
        <div class="demo-code-popover-header">
          <span class="cq-item-title">Utilities ‚Äî Usage</span>
          <button class="demo-code-popover-close" (click)="closeCodeTooltip()">‚úï</button>
        </div>
        <div class="demo-code-popover-body">
          @for (snippet of codeSnippets['utilities']; track snippet.label) {
            <div class="demo-snippet">
              <span class="demo-snippet-label">{{ snippet.label }}</span>
              @if (snippet.html) {
                <pre class="demo-code-block"><code>{{ snippet.html }}</code></pre>
              }
              @if (snippet.css) {
                <pre class="demo-code-block demo-code-css"><code>{{ snippet.css }}</code></pre>
              }
            </div>
          }
        </div>
      </div>
    }

    <div class="demo-grid">
      <div class="cq-card">
        <div class="demo-label">Progress Bars</div>
        <div class="cq-progress cq-mb-sm">
          <div class="cq-progress-bar" style="width: 75%"></div>
        </div>
        <div class="cq-progress cq-progress-success cq-mb-sm">
          <div class="cq-progress-bar" style="width: 100%"></div>
        </div>
        <div class="cq-progress cq-progress-warning cq-mb-sm">
          <div class="cq-progress-bar" style="width: 50%"></div>
        </div>
        <div class="cq-progress cq-progress-error">
          <div class="cq-progress-bar" style="width: 25%"></div>
        </div>
      </div>

      <div class="cq-card">
        <div class="demo-label">Spinners</div>
        <div class="demo-row">
          <div class="cq-spinner cq-spinner-sm"></div>
          <div class="cq-spinner"></div>
          <div class="cq-spinner cq-spinner-lg"></div>
        </div>
      </div>

      <div class="cq-card">
        <div class="demo-label">Avatars</div>
        <div class="demo-row">
          <div class="cq-avatar cq-avatar-sm">A</div>
          <div class="cq-avatar">JD</div>
          <div class="cq-avatar cq-avatar-lg">XL</div>
        </div>
      </div>

      <div class="cq-card">
        <div class="demo-label">Add Item Button</div>
        <button class="cq-add-item-button" style="width: 100%">
          <div
            class="cq-mask-icon"
            style="--mask-url: url('assets/icons/save.svg'); width: 18px; height: 18px"
          ></div>
          Add New Item
        </button>
      </div>

      <div class="cq-card">
        <div class="demo-label">Skeleton Loading</div>
        <div class="cq-flex cq-gap-md cq-items-center cq-mb-md">
          <div class="cq-skeleton cq-skeleton-circle" style="width: 48px; height: 48px"></div>
          <div class="cq-flex-1">
            <div class="cq-skeleton-text" style="width: 60%"></div>
            <div class="cq-skeleton-text" style="width: 80%"></div>
          </div>
        </div>
      </div>

      <div class="cq-card">
        <div class="demo-label">Tooltips</div>
        <div class="demo-row">
          <button class="cq-btn-secondary cq-tooltip" data-tooltip="This is a tooltip!">
            Hover me
          </button>
        </div>
      </div>

      <div class="cq-card">
        <div class="demo-label">Empty State</div>
        <div class="cq-empty-state" style="padding: 24px">
          <img src="assets/icons/quiz.svg" alt="Empty" class="cq-empty-state-icon" />
          <h4 class="cq-empty-state-title">No quizzes yet</h4>
          <p class="cq-empty-state-message">Create your first quiz to get started</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAB (Fixed) -->
  <button class="cq-fab">
    <img src="assets/icons/save.svg" alt="Add" />
  </button>
</div>
